[tox]
minversion = 4.0
envlist = py310,py311,py312,lint,docs
skipsdist = True

[testenv]
deps =
    pytest>=7.0
    pytest-cov>=4.0
    docopt>=0.6.2
commands =
    pytest --cov=imap_cli --cov-report=term-missing
setenv = VIRTUAL_ENV={envdir}
usedevelop = True

[testenv:lint]
deps = ruff>=0.1.0
commands = ruff check .

[testenv:docs]
basepython = python3
changedir = docs
deps =
    sphinx>=7.0
    docopt>=0.6.2
envtmpdir = _build
commands =
    sphinx-build -W {toxinidir}/docs {envtmpdir}/html
